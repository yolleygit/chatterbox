# âš™ï¸ Chatterbox TTS å®Œæ•´å®‰è£…é…ç½®æŒ‡å—

## ðŸ“‹ ç³»ç»Ÿè¦æ±‚

### ðŸ–¥ï¸ **ç¡¬ä»¶è¦æ±‚**
- **CPU**: çŽ°ä»£å¤šæ ¸å¤„ç†å™¨ (æŽ¨è4æ ¸+)
- **å†…å­˜**: 8GB+ RAM (16GB+ æŽ¨è)
- **å­˜å‚¨**: 5GB+ å¯ç”¨ç©ºé—´
- **GPU**: Apple Silicon MPS (Mac) / CUDA GPU (å¯é€‰)

### ðŸ’» **è½¯ä»¶è¦æ±‚**
- **æ“ä½œç³»ç»Ÿ**: macOS 10.15+, Linux, Windows 10+
- **Python**: 3.8 - 3.11 (æŽ¨è3.10)
- **Conda**: Anacondaæˆ–Miniconda
- **ç½‘ç»œ**: ç”¨äºŽæ¨¡åž‹ä¸‹è½½ (é¦–æ¬¡è¿è¡Œ)

---

## ðŸš€ å¿«é€Ÿå®‰è£… (æŽ¨è)

### 1ï¸âƒ£ **çŽ¯å¢ƒå‡†å¤‡**
```bash
# å®‰è£…Anaconda (å¦‚æžœå°šæœªå®‰è£…)
# è®¿é—®: https://www.anaconda.com/download

# åˆ›å»ºä¸“ç”¨çŽ¯å¢ƒ
conda create -n chatterbox python=3.10
conda activate chatterbox
```

### 2ï¸âƒ£ **å®‰è£…Chatterbox TTS**
```bash
# æ–¹æ³•1: é€šè¿‡pipå®‰è£… (æŽ¨è)
pip install chatterbox-tts

# æ–¹æ³•2: é€šè¿‡requirementså®‰è£…
git clone https://github.com/ResembleAI/chatterbox.git
cd chatterbox
pip install -r requirements_web.txt
```

### 3ï¸âƒ£ **éªŒè¯å®‰è£…**
```bash
# å¿«é€Ÿæµ‹è¯•
python tests/test_installation.py

# Macç”¨æˆ·é¢å¤–æµ‹è¯•
python examples/mac_specific/simple_mac_test.py
```

---

## ðŸ”§ è¯¦ç»†å®‰è£…æ­¥éª¤

### ðŸ“¦ **æ–¹æ³•1: æ ‡å‡†pipå®‰è£…**

#### æ­¥éª¤1: åˆ›å»ºçŽ¯å¢ƒ
```bash
# æ£€æŸ¥condaç‰ˆæœ¬
conda --version

# åˆ›å»ºæ–°çŽ¯å¢ƒ
conda create -n chatterbox python=3.10 -y

# æ¿€æ´»çŽ¯å¢ƒ
conda activate chatterbox

# éªŒè¯Pythonç‰ˆæœ¬
python --version  # åº”æ˜¾ç¤ºPython 3.10.x
```

#### æ­¥éª¤2: å®‰è£…æ ¸å¿ƒåŒ…
```bash
# æ›´æ–°pip
pip install --upgrade pip

# å®‰è£…ä¸»è¦ä¾èµ–
pip install torch torchvision torchaudio

# å®‰è£…Chatterbox TTS
pip install chatterbox-tts

# å®‰è£…Webç•Œé¢ä¾èµ–
pip install gradio
```

#### æ­¥éª¤3: éªŒè¯å®‰è£…
```bash
# æµ‹è¯•å¯¼å…¥
python -c "from chatterbox.tts import ChatterboxTTS; print('âœ… å®‰è£…æˆåŠŸ')"

# æµ‹è¯•MPS (Macç”¨æˆ·)
python -c "import torch; print(f'MPSå¯ç”¨: {torch.backends.mps.is_available()}')"
```

### ðŸ“‚ **æ–¹æ³•2: æºç å®‰è£…**

#### æ­¥éª¤1: å…‹éš†ä»“åº“
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ResembleAI/chatterbox.git
cd chatterbox

# æ£€æŸ¥é¡¹ç›®ç»“æž„
ls -la
```

#### æ­¥éª¤2: çŽ¯å¢ƒé…ç½®
```bash
# åˆ›å»ºçŽ¯å¢ƒ
conda create -n chatterbox python=3.10 -y
conda activate chatterbox

# å®‰è£…ä¾èµ–
pip install -r requirements_web.txt

# å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .
```

#### æ­¥éª¤3: æµ‹è¯•å®‰è£…
```bash
# è¿è¡Œæµ‹è¯•å¥—ä»¶
python tests/test_installation.py

# åŸºç¡€åŠŸèƒ½æµ‹è¯•
python examples/basic/basic_tts_example_offline.py
```

---

## ðŸŽ Macç³»ç»Ÿä¸“ç”¨é…ç½®

### ðŸ”§ **Apple Siliconä¼˜åŒ–**

#### PyTorch MPSé…ç½®
```bash
# ç¡®ä¿å®‰è£…æ”¯æŒMPSçš„PyTorchç‰ˆæœ¬
pip install --upgrade torch torchvision torchaudio

# éªŒè¯MPSæ”¯æŒ
python -c "import torch; print(f'PyTorchç‰ˆæœ¬: {torch.__version__}'); print(f'MPSå¯ç”¨: {torch.backends.mps.is_available()}')"
```

#### ç³»ç»Ÿä¼˜åŒ–è®¾ç½®
```bash
# è®¾ç½®çŽ¯å¢ƒå˜é‡
echo 'export PYTORCH_ENABLE_MPS_FALLBACK=1' >> ~/.zshrc
source ~/.zshrc

# æˆ–åœ¨æ¯æ¬¡ä½¿ç”¨å‰è®¾ç½®
export PYTORCH_ENABLE_MPS_FALLBACK=1
```

### ðŸ› ï¸ **Macæ•…éšœæŽ’é™¤**

#### CUDAè®¾å¤‡æ˜ å°„é—®é¢˜
```bash
# è¿è¡ŒMacä¸“ç”¨è¡¥ä¸
python examples/mac_specific/mac_device_patch.py

# æˆ–ä½¿ç”¨ä¿®å¤ç‰ˆç¤ºä¾‹
python examples/mac_specific/mac_tts_example.py
```

#### æƒé™é—®é¢˜
```bash
# ä¿®å¤condaæƒé™
sudo chown -R $USER:$USER ~/anaconda3/

# æˆ–ä½¿ç”¨ç”¨æˆ·å®‰è£…
pip install --user chatterbox-tts
```

---

## ðŸ§ Linuxç³»ç»Ÿé…ç½®

### ðŸ“¦ **Ubuntu/Debian**
```bash
# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt update
sudo apt install python3-dev python3-pip portaudio19-dev

# å®‰è£…conda (å¦‚æžœéœ€è¦)
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh

# åˆ›å»ºçŽ¯å¢ƒå’Œå®‰è£…
conda create -n chatterbox python=3.10 -y
conda activate chatterbox
pip install chatterbox-tts
```

### ðŸ”§ **CentOS/RHEL**
```bash
# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo yum install python3-devel portaudio-devel

# å…¶ä½™æ­¥éª¤åŒUbuntu
```

### ðŸ–¥ï¸ **GPUæ”¯æŒ (NVIDIA)**
```bash
# æ£€æŸ¥CUDAå¯ç”¨æ€§
nvidia-smi

# å®‰è£…CUDAç‰ˆPyTorch
conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia

# éªŒè¯CUDA
python -c "import torch; print(f'CUDAå¯ç”¨: {torch.cuda.is_available()}')"
```

---

## ðŸªŸ Windowsç³»ç»Ÿé…ç½®

### ðŸ“¦ **Windows 10/11**
```powershell
# å®‰è£…Anaconda
# ä¸‹è½½: https://www.anaconda.com/download

# æ‰“å¼€Anaconda Prompt
conda create -n chatterbox python=3.10 -y
conda activate chatterbox

# å®‰è£…ä¾èµ–
pip install chatterbox-tts

# æµ‹è¯•å®‰è£…
python tests/test_installation.py
```

### ðŸ”§ **Windowsç‰¹æ®Šé…ç½®**
```powershell
# å¦‚æžœé‡åˆ°ç¼–ç é—®é¢˜
set PYTHONIOENCODING=utf-8

# éŸ³é¢‘è®¾å¤‡é—®é¢˜
pip install pyaudio

# é•¿è·¯å¾„æ”¯æŒ
# å¯ç”¨: æŽ§åˆ¶é¢æ¿ > ç³»ç»Ÿ > é«˜çº§ > çŽ¯å¢ƒå˜é‡ > å¯ç”¨é•¿è·¯å¾„
```

---

## ðŸ” å®‰è£…éªŒè¯å’Œæµ‹è¯•

### ðŸ§ª **åŸºç¡€éªŒè¯**
```bash
# æ¿€æ´»çŽ¯å¢ƒ
conda activate chatterbox

# æ¨¡å—å¯¼å…¥æµ‹è¯•
python -c "
import torch
from chatterbox.tts import ChatterboxTTS
print('âœ… æ ¸å¿ƒæ¨¡å—å¯¼å…¥æˆåŠŸ')
print(f'ðŸ“‹ PyTorchç‰ˆæœ¬: {torch.__version__}')
print(f'ðŸŽ MPSå¯ç”¨: {torch.backends.mps.is_available()}')
print(f'ðŸ”¥ CUDAå¯ç”¨: {torch.cuda.is_available()}')
"

# å¿«é€ŸåŠŸèƒ½æµ‹è¯•
python examples/basic/basic_tts_example_offline.py
```

### ðŸ“Š **æ€§èƒ½æµ‹è¯•**
```bash
# MPSæ€§èƒ½æµ‹è¯• (Mac)
python test_mps_device.py

# å®Œæ•´æ€§èƒ½åŸºå‡†
python examples/mac_specific/mac_optimization.py
```

### ðŸŒ **Webç•Œé¢æµ‹è¯•**
```bash
# å¯åŠ¨ç®€å•ç•Œé¢
python start_simple_web.py

# è®¿é—®: http://localhost:7863
# æµ‹è¯•å½•éŸ³ã€ç”Ÿæˆç­‰åŠŸèƒ½

# å¯åŠ¨å®Œæ•´ç•Œé¢
python start_final_web.py

# è®¿é—®: http://localhost:7862
```

---

## ðŸ”§ å¸¸è§å®‰è£…é—®é¢˜

### â“ **ä¾èµ–å†²çª**
```bash
# æ¸…ç†çŽ¯å¢ƒé‡æ–°å®‰è£…
conda env remove -n chatterbox
conda create -n chatterbox python=3.10 -y
conda activate chatterbox
pip install chatterbox-tts
```

### â“ **ç½‘ç»œä¸‹è½½å¤±è´¥**
```bash
# ä½¿ç”¨é•œåƒæº
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ chatterbox-tts

# æˆ–è®¾ç½®ä»£ç†
pip install --proxy http://proxy:port chatterbox-tts
```

### â“ **æƒé™é”™è¯¯**
```bash
# ç”¨æˆ·æ¨¡å¼å®‰è£…
pip install --user chatterbox-tts

# æˆ–ä¿®å¤æƒé™
sudo chown -R $USER:$USER ~/.local/
```

### â“ **æ¨¡åž‹ä¸‹è½½å¤±è´¥**
```bash
# æ‰‹åŠ¨ä¸‹è½½æ¨¡åž‹
mkdir -p ~/.cache/huggingface/hub/
cd ~/.cache/huggingface/hub/
git clone https://huggingface.co/ResembleAI/chatterbox models--ResembleAI--chatterbox

# æˆ–è®¾ç½®é•œåƒ
export HF_ENDPOINT=https://hf-mirror.com
```

---

## ðŸš€ å®‰è£…åŽé…ç½®

### âš™ï¸ **çŽ¯å¢ƒå˜é‡è®¾ç½®**
```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
export CHATTERBOX_HOME="$HOME/chatterbox"
export PYTORCH_ENABLE_MPS_FALLBACK=1  # Macç”¨æˆ·

# é‡æ–°åŠ è½½é…ç½®
source ~/.zshrc  # æˆ– source ~/.bashrc
```

### ðŸ“ **ç›®å½•ç»“æž„åˆ›å»º**
```bash
# åˆ›å»ºå·¥ä½œç›®å½•
mkdir -p ~/chatterbox/output/audio_library
mkdir -p ~/chatterbox/models
mkdir -p ~/chatterbox/temp

# è®¾ç½®æƒé™
chmod 755 ~/chatterbox/output/
```

### ðŸŽ›ï¸ **é»˜è®¤é…ç½®**
```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > ~/.chatterbox_config << EOF
{
    "device": "auto",
    "audio_library_path": "~/chatterbox/output/audio_library",
    "default_sample_rate": 24000,
    "web_interface_port": 7862
}
EOF
```

---

## ðŸ“š å®‰è£…å®Œæˆæ£€æŸ¥æ¸…å•

### âœ… **éªŒè¯é¡¹ç›®**
- [ ] PythonçŽ¯å¢ƒæ­£ç¡® (3.8-3.11)
- [ ] Chatterbox TTSå®‰è£…æˆåŠŸ
- [ ] åŸºç¡€æ¨¡å—å¯¼å…¥æ­£å¸¸
- [ ] ç¤ºä¾‹è„šæœ¬è¿è¡ŒæˆåŠŸ
- [ ] Webç•Œé¢å¯ä»¥è®¿é—®
- [ ] æ¨¡åž‹è‡ªåŠ¨ä¸‹è½½å®Œæˆ

### ðŸŽ **Macç”¨æˆ·é¢å¤–æ£€æŸ¥**
- [ ] MPSè®¾å¤‡å¯ç”¨
- [ ] CUDAæ˜ å°„é—®é¢˜å·²ä¿®å¤
- [ ] Macä¸“ç”¨ç¤ºä¾‹æ­£å¸¸è¿è¡Œ
- [ ] æ€§èƒ½ä¼˜åŒ–é…ç½®å®Œæˆ

### ðŸ§ **Linuxç”¨æˆ·é¢å¤–æ£€æŸ¥**
- [ ] éŸ³é¢‘è®¾å¤‡æ­£å¸¸å·¥ä½œ
- [ ] ç³»ç»Ÿä¾èµ–å®‰è£…å®Œæˆ
- [ ] GPUæ”¯æŒé…ç½® (å¦‚æœ‰)

### ðŸªŸ **Windowsç”¨æˆ·é¢å¤–æ£€æŸ¥**
- [ ] è·¯å¾„ç¼–ç é—®é¢˜å·²è§£å†³
- [ ] éŸ³é¢‘è®¾å¤‡é©±åŠ¨æ­£å¸¸
- [ ] é˜²ç«å¢™è®¾ç½®å…è®¸è®¿é—®

---

## ðŸŽ‰ å®‰è£…æˆåŠŸï¼

### ðŸš€ **ä¸‹ä¸€æ­¥æ“ä½œ**
1. **é˜…è¯»æ–‡æ¡£**: æŸ¥çœ‹[å¿«é€Ÿå¼€å§‹æŒ‡å—](./å¿«é€Ÿå¼€å§‹æŒ‡å—.md)
2. **è¿è¡Œç¤ºä¾‹**: å°è¯•[åŸºç¡€ç¤ºä¾‹](../examples/basic/)
3. **Webç•Œé¢**: å¯åŠ¨[Webç•Œé¢](./Webç•Œé¢ä½¿ç”¨æŒ‡å—.md)
4. **Macä¼˜åŒ–**: Macç”¨æˆ·æŸ¥çœ‹[MPSé…ç½®æŒ‡å—](./MPSè®¾å¤‡é…ç½®æŒ‡å—.md)

### ðŸ”— **ç›¸å…³èµ„æº**
- **æ•…éšœæŽ’é™¤**: [å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ](./å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ.md)
- **æµ‹è¯•å·¥å…·**: [æµ‹è¯•å·¥å…·ä½¿ç”¨æŒ‡å—](./æµ‹è¯•å·¥å…·ä½¿ç”¨æŒ‡å—.md)
- **é¡¹ç›®ç»“æž„**: [é¡¹ç›®ç»“æž„è¯´æ˜Ž](./é¡¹ç›®ç»“æž„è¯´æ˜Ž.md)

---

ðŸŽŠ **æ­å–œï¼æ‚¨çš„Chatterbox TTSå·²å®‰è£…å®Œæˆï¼Œå¯ä»¥å¼€å§‹è¯­éŸ³å…‹éš†ä¹‹æ—…äº†ï¼** 